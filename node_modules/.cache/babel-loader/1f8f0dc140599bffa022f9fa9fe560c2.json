{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Andy Kwan/Desktop/ryan_subs/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Andy Kwan/Desktop/ryan_subs/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Andy Kwan\\\\Desktop\\\\ryan_subs\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useContext}from'react';import{useHistory}from'react-router-dom';import UserContext from'../../context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PriceCard=function PriceCard(_ref){var price=_ref.price,handleSubscription=_ref.handleSubscription,userSubscriptions=_ref.userSubscriptions;var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,1),state=_useContext2[0];var history=useHistory();var subscribedPlan=userSubscriptions&&userSubscriptions.includes(price.id);var dynamicDescription=function dynamicDescription(plan){if(plan==='BASIC')return\"5 execlusive stocks\";if(plan==='STANDARD')return\"10 execlusive stocks\";if(plan==='PREMIUM')return\"15 execlusive stocks\";};var buttonStyle=function buttonStyle(plan){return plan===\"BASIC\"?\"btn-outline-success\":\"btn-success\";};var headerStyle=function headerStyle(plan){return plan===\"PREMIUM\"?\"bg-success text-light\":\"\";};var borderStyle=function borderStyle(plan){return plan===\"PREMIUM\"?\"border-success\":\"\";};var buttonText=function buttonText(){return state&&state.token?\"Change Plan\":\"Sign Up\";};var manageSubscriptions=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(subscribedPlan){_context.next=2;break;}return _context.abrupt(\"return\",history.push('/account'));case 2:handleSubscription(e,price);case 3:case\"end\":return _context.stop();}}},_callee);}));return function manageSubscriptions(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4 rounded-3 shadow-sm \".concat(borderStyle(price.nickname)),children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header py-3 \".concat(headerStyle(price.nickname)),children:/*#__PURE__*/_jsx(\"h4\",{className:\"my-0\",children:price.nickname})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"card-title pricing-card-title\",children:[(price.unit_amount/100).toLocaleString(\"en-US\",{style:\"currency\",currency:\"USD\"}),\" \",/*#__PURE__*/_jsx(\"small\",{className:\"text-muted fw-light\",children:\"/ Month\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-unstyled mt-3 mb-4\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"p-3 fw-bold text-success\",children:dynamicDescription(price.nickname)}),/*#__PURE__*/_jsx(\"li\",{className:\"p-3\",children:\"Free Market Analysis\"}),/*#__PURE__*/_jsx(\"li\",{className:\"p-3\",children:\"Email Support\"}),/*#__PURE__*/_jsx(\"li\",{className:\"p-3\",children:\"Help Center Access\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg \".concat(buttonStyle(price.nickname)),onClick:function onClick(e){return manageSubscriptions(e);},children:subscribedPlan?'Access Plan':buttonText()})]})]})});};export default PriceCard;","map":{"version":3,"sources":["C:/Users/Andy Kwan/Desktop/ryan_subs/client/src/components/cards/PriceCard.js"],"names":["useContext","useHistory","UserContext","PriceCard","price","handleSubscription","userSubscriptions","state","history","subscribedPlan","includes","id","dynamicDescription","plan","buttonStyle","headerStyle","borderStyle","buttonText","token","manageSubscriptions","e","push","nickname","unit_amount","toLocaleString","style","currency"],"mappings":"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","sourcesContent":["import { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport UserContext from '../../context';\r\n\r\nconst PriceCard = ({ price, handleSubscription, userSubscriptions }) => {\r\n    const [state] = useContext(UserContext);\r\n    const history = useHistory();\r\n\r\n    const subscribedPlan = userSubscriptions && userSubscriptions.includes(price.id);\r\n\r\n    const dynamicDescription = plan => {\r\n        if (plan === 'BASIC') return \"5 execlusive stocks\";\r\n        if (plan === 'STANDARD') return \"10 execlusive stocks\";\r\n        if (plan === 'PREMIUM') return \"15 execlusive stocks\";\r\n    };\r\n\r\n    const buttonStyle = plan => {\r\n        return plan === \"BASIC\" ? \"btn-outline-success\" : \"btn-success\";\r\n    };\r\n\r\n    const headerStyle = plan => {\r\n        return plan === \"PREMIUM\" ? \"bg-success text-light\" : \"\";\r\n    };\r\n\r\n    const borderStyle = plan => {\r\n        return plan === \"PREMIUM\" ? \"border-success\" : \"\";\r\n    };\r\n\r\n    const buttonText = () => {\r\n        return state && state.token ? \"Change Plan\" : \"Sign Up\"\r\n    };\r\n\r\n    const manageSubscriptions = async (e) => {\r\n        if (!subscribedPlan) return history.push('/account');\r\n            \r\n        handleSubscription(e, price);\r\n    };\r\n\r\n    return (\r\n        <div className=\"col\">\r\n            <div className={`card mb-4 rounded-3 shadow-sm ${borderStyle(price.nickname)}`}>\r\n                <div className={`card-header py-3 ${headerStyle(price.nickname)}`}>\r\n                    <h4 className=\"my-0\">{price.nickname}</h4>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <h1 className=\"card-title pricing-card-title\">\r\n                        {(price.unit_amount / 100).toLocaleString(\"en-US\", {\r\n                            style: \"currency\",\r\n                            currency: \"USD\"\r\n                        })} <small className=\"text-muted fw-light\">/ Month</small>\r\n                    </h1>\r\n                    <ul className=\"list-unstyled mt-3 mb-4\">\r\n                        <li className=\"p-3 fw-bold text-success\">{dynamicDescription(price.nickname)}</li>\r\n                        <li className=\"p-3\">Free Market Analysis</li>\r\n                        <li className=\"p-3\">Email Support</li>\r\n                        <li className=\"p-3\">Help Center Access</li>\r\n                    </ul>\r\n\r\n                    <button \r\n                        className={`w-100 btn btn-lg ${buttonStyle(price.nickname)}`}\r\n                        onClick={e => manageSubscriptions(e)}\r\n                    >\r\n                        {subscribedPlan ? 'Access Plan' : buttonText()}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n  );\r\n};\r\n\r\nexport default PriceCard;"]},"metadata":{},"sourceType":"module"}