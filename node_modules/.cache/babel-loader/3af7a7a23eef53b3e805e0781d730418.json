{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andy Kwan\\\\Desktop\\\\ryan_subs\\\\client\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext, useEffect } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'react-hot-toast';\nimport Input from '../components/Input';\nimport Button from '../components/Button';\nimport UserContext from '../context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [state, setState] = useContext(UserContext);\n  const history = useHistory();\n\n  const handleClick = async e => {\n    try {\n      e.preventDefault();\n      const {\n        data\n      } = await axios.post(\"/login\", {\n        email,\n        password\n      });\n      if (data.error) return toast.error(data.error);\n      setState(data);\n      toast.success(`Welcome Back, ${data.user.name}.`);\n      localStorage.setItem('auth_subscriptions', JSON.stringify(data));\n      history.push('/');\n    } catch (err) {\n      console.log(err);\n      toast.error(\"Something went wrong. Try again\");\n    }\n  };\n\n  useEffect(() => {\n    if (state) history.push('/');\n  }, [state, history]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center register_head\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container align-items-center d-flex\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row col-md-6 offset-md-3 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"pt-5 fw-bold\",\n          children: \"Let's Get Started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"lead pb-4\",\n          children: \"Access your subscriptions. Anytime. Anywhere.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Email\",\n            value: email,\n            setValue: setEmail,\n            type: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Password\",\n            value: password,\n            setValue: setPassword,\n            type: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-grid\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              handleClick: handleClick,\n              type: \"primary\",\n              text: \"Login\",\n              size: \"sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"Not yet have an account? Sign up here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"kpFWV1jYL5OKhUvkCpxzrkgoLjY=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Andy Kwan/Desktop/ryan_subs/client/src/pages/Login.js"],"names":["useState","useContext","useEffect","useHistory","Link","axios","toast","Input","Button","UserContext","Login","email","setEmail","password","setPassword","state","setState","history","handleClick","e","preventDefault","data","post","error","success","user","name","localStorage","setItem","JSON","stringify","push","err","console","log"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nimport Input from '../components/Input';\r\nimport Button from '../components/Button';\r\nimport UserContext from '../context';\r\n\r\nconst Login = () => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const [state, setState] = useContext(UserContext);\r\n\r\n    const history = useHistory();\r\n\r\n    const handleClick = async (e) => {\r\n        try {\r\n            e.preventDefault();\r\n            const { data } = await axios.post(\"/login\", {\r\n                email,\r\n                password,\r\n            }, );\r\n\r\n            if (data.error) return toast.error(data.error);\r\n            setState(data);\r\n            toast.success(`Welcome Back, ${data.user.name}.`);\r\n            localStorage.setItem('auth_subscriptions', JSON.stringify(data));\r\n            history.push('/');\r\n        } catch (err) {\r\n            console.log(err);\r\n            toast.error(\"Something went wrong. Try again\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (state) history.push('/');\r\n    }, [state, history]);\r\n\r\n    return (\r\n        <div className=\"d-flex justify-content-center register_head\">\r\n            <div className=\"container align-items-center d-flex\">\r\n                <div className=\"row col-md-6 offset-md-3 text-center\">\r\n                    <h1 className=\"pt-5 fw-bold\">Let's Get Started</h1>\r\n                    <p className=\"lead pb-4\">\r\n                        Access your subscriptions. Anytime. Anywhere.\r\n                    </p>\r\n                    <div className=\"form-group mb-3\">\r\n                        <Input \r\n                            label=\"Email\"\r\n                            value={email}\r\n                            setValue={setEmail}\r\n                            type=\"email\"\r\n                        />\r\n                        <Input \r\n                            label=\"Password\"\r\n                            value={password}\r\n                            setValue={setPassword}\r\n                            type=\"password\"\r\n                        />\r\n                        <div className=\"d-grid\">\r\n                            <Button \r\n                                handleClick={handleClick} \r\n                                type=\"primary\" \r\n                                text=\"Login\" \r\n                                size=\"sm\" \r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <Link to=\"/register\">Not yet have an account? Sign up here.</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}