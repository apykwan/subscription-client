{"ast":null,"code":"import _slicedToArray from\"C:/Users/Andy Kwan/Desktop/ryan_subs/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,createContext}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";var UserContext=/*#__PURE__*/createContext();export var UserProvider=function UserProvider(_ref){var children=_ref.children;var _useState=useState({user:{},token:\"\"}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){setState(JSON.parse(localStorage.getItem('auth_subscriptions')));},[]);// axios config\nvar token=state&&state.token?state.token:\"\";axios.defaults.baseURL=process.env.REACT_APP_API;axios.defaults.headers.common[\"Authorization\"]=\"Bearer \".concat(token);return/*#__PURE__*/_jsx(UserContext.Provider,{value:[state,setState],children:children});};export default UserContext;","map":{"version":3,"sources":["C:/Users/Andy Kwan/Desktop/ryan_subs/client/src/context/index.js"],"names":["useState","useEffect","createContext","axios","UserContext","UserProvider","children","user","token","state","setState","JSON","parse","localStorage","getItem","defaults","baseURL","process","env","REACT_APP_API","headers","common"],"mappings":"iIAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,aAA9B,KAAmD,OAAnD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,CAAAA,WAAW,cAAGF,aAAa,EAAjC,CAEA,MAAO,IAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAC1C,cAA0BN,QAAQ,CAAC,CAC/BO,IAAI,CAAE,EADyB,CAE/BC,KAAK,CAAE,EAFwB,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAKAT,SAAS,CAAC,UAAM,CACZS,QAAQ,CAACC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,oBAArB,CAAX,CAAD,CAAR,CACH,CAFQ,CAEN,EAFM,CAAT,CAIA;AACA,GAAMN,CAAAA,KAAK,CAAGC,KAAK,EAAIA,KAAK,CAACD,KAAf,CAAuBC,KAAK,CAACD,KAA7B,CAAqC,EAAnD,CACAL,KAAK,CAACY,QAAN,CAAeC,OAAf,CAAyBC,OAAO,CAACC,GAAR,CAAYC,aAArC,CACAhB,KAAK,CAACY,QAAN,CAAeK,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,mBAA2Db,KAA3D,EAEA,mBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAACC,KAAD,CAAQC,QAAR,CAA7B,UACKJ,QADL,EADJ,CAKH,CApBM,CAsBP,cAAeF,CAAAA,WAAf","sourcesContent":["import { useState, useEffect, createContext } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst UserContext = createContext();\r\n\r\nexport const UserProvider = ({ children }) => {\r\n    const [state, setState] = useState({\r\n        user: {},\r\n        token: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        setState(JSON.parse(localStorage.getItem('auth_subscriptions')));\r\n    }, []);\r\n\r\n    // axios config\r\n    const token = state && state.token ? state.token : \"\";\r\n    axios.defaults.baseURL = process.env.REACT_APP_API;\r\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`; \r\n\r\n    return (\r\n        <UserContext.Provider value={[state, setState]}>\r\n            {children}\r\n        </UserContext.Provider>\r\n    )\r\n};\r\n\r\nexport default UserContext;"]},"metadata":{},"sourceType":"module"}